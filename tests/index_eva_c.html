<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Tryptique</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no"/>
    <script src="../js/lib/jquery-2.1.3.min.js"></script>
    <script src="../js/lib/underscore-1.8.2.min.js"></script>
    <script src="../js/lib/backbone-1.1.2.min.js"></script>
    <script src="../js/lib/modestmaps.min.js"></script>
    <script src="../js/lib/modestmaps.markers.js"></script>
    <script src="../js/lib/prefixfree.min.js"></script>
    <link rel="stylesheet" href="../css/ev_triptyque.css"/>
    <style>
        .marker {
            background-color: tomato;
            width: 16px;
            height: 16px;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <!-- DOM -->
    <div class="ev_container">
        <div class="visuel_client">
            <i class="icon_x_mark"></i>
            <img src="../img/visuel_client.jpg" alt=""/>
        </div>
        <div class="visuel_video">
            <!--<img src="img/visuel_video.jpg" alt=""/>-->
            <iframe width="420" height="315" src="https://www.youtube.com/embed/l_EDBM1tOEo" frameborder="0" allowfullscreen></iframe>
        </div>
        <div class="visuel_form">
            <form action="" role="search">
                <input type="text" class="form_control" placeholder="Ville ou Code Postal">
                <button type="submit" class="btn search"></button>
            </form>
        </div>
        <div class="visuel_map">
            <div id="map">

            </div>
            <i class="icon_fullscreen"></i>
        </div>
    </div>

    <!-- Main -->
    <script type="text/javascript" src="../js/src/Tryptique.js"></script>
    <script type="text/javascript" src="../js/src/Utils.js"></script>

    <!-- Models -->
    <script type="text/javascript" src="../js/src/model/ConfigModel.js"></script>
    <script type="text/javascript" src="../js/src/model/EntityModel.js"></script>
    <script type="text/javascript" src="../js/src/model/EntityCollection.js"></script>
    <script type="text/javascript" src="../js/src/model/LocalizationModel.js"></script>

    <!-- Views -->
    <script type="text/javascript" src="../js/src/view/CallToActionView.js"></script>
    <script type="text/javascript" src="../js/src/view/VideoContainerView.js"></script>
    <script type="text/javascript" src="../js/src/view/LocalizationFormView.js"></script>
    <script type="text/javascript" src="../js/src/view/MapContainerView.js"></script>
    <script type="text/javascript" src="../js/src/view/MarkerView.js"></script>

    <!-- Startup -->
    <script type="text/javascript">
        var tryptique_params = {
            id: "2733640",
            name: "vincentperlot"
        }
    </script>

    <!-- Full Page Button -->
    <script>
        $( document ).ready(function() {

            $('.icon_fullscreen').on('click',function(){

                if ($("div.visuel_map").hasClass('visu1')){
                    // alert( "affiche mini");
                    layoutminiMap()
                }
                else{
                    // alert( "affiche full");
                    layoutFullMap();
                }

            });

            function layoutFullMap() {
                $("div.visuel_client").css('display', 'none');
                $("div.visuel_video").css('display', 'none');
                $("div.visuel_form").addClass('visu2');
                $("div.visuel_map").addClass('visu1');
            }
            function layoutminiMap() {
                $("div.visuel_client").css('display', 'block');
                $("div.visuel_video").css('display', 'block');
                $("div.visuel_form").removeClass('visu2');
                $("div.visuel_map").removeClass('visu1');
            }

        });
    </script>
</body>
</html>